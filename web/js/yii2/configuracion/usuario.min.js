$(document).ready(initUsuario);function initUsuario(){console.log("usuario");getUsuarios()}function getUsuarios(){$.post(baseURL+"/configuracion/usuario/get-usuarios",null,null,"json").done(function(a){if(!a.error){$("#jsGrid-usuarios").jsGrid({width:"100%",height:"400px",inserting:false,editing:false,sorting:false,paging:true,data:a.usuarios,fields:[{name:"description",title:"Descripcion",type:"text",validate:"required"},{name:"username",title:"Ususario",type:"text",editing:false,width:"50px"},{type:"control",deditButton:true,eleteButton:false,clearFilterButton:false,width:10,headerTemplate:function(){return $('<button class="btn btn-sm btn-success"><i class="fas fa-user-plus"></i></button>').on("click",function(){$("#frm-usuario-nuevo").trigger("reset");$("#frm-usuario-nuevo").unbind("submit");$("#frm-usuario-nuevo").submit(function(b){b.preventDefault();setUsuarioNuevo()});$("#modal-usuario-nuevo").modal()})},itemTemplate:function(d,c){var b=$('<button class="btn btn-sm btn-success"><i class="fas fa-key"></i></button>').click(function(f){$("#frm-contrasena-editar").trigger("reset");$("#frm-contrasena-editar").unbind("submit");$("#frm-contrasena-editar").submit(function(g){g.preventDefault();setContrasenaNueva()});$("#id-usuario").val(c.id);$("#modal-cambiar-contrasena").modal();f.stopPropagation()});return $("<div>").append(b)}}]})}$('[data-toggle="tooltip"]').tooltip()}).fail(function(a){}).always(function(){})}function setContrasenaNueva(){var a={"id-usuario":$("#id-usuario").val(),contrasena:$("#contrasena-editar").val()};$.post(baseURL+"/configuracion/usuario/set-contrasena-nueva",a,null,"json").done(function(b){}).fail(function(b){}).always(function(){$("#modal-cambiar-contrasena").modal("hide")})}function setUsuarioNuevo(){var a={descripcion:$("#descripcion-nueva").val(),usuario:$("#usuario-nueva").val(),contrasena:$("#contrasena-nueva").val()};$.post(baseURL+"/configuracion/usuario/set-usuario-nuevo",a,null,"json").done(function(){getUsuarios();$("#modal-usuario-nuevo").modal("hide")}).fail(function(b){}).always(function(){})};