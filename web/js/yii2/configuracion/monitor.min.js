$(document).ready(initMonitor);function initMonitor(){getMonitores();$(".reveal").on("click",function(){var a=$("#monitor-token");if(a.attr("type")==="password"){a.attr("type","text")}else{a.attr("type","password")}})}function getMonitores(){$.post(baseURL+"/configuracion/monitor/get-monitores",null,null,"json").done(function(a){if(!a.error){$("#jsGrid-monitores").jsGrid({width:"100%",height:"400px",inserting:false,editing:false,sorting:false,paging:true,data:a.monitores,fields:[{name:"descripcion",title:"Descripcion",type:"text",validate:"required"},{name:"url",title:"URL",type:"text",editing:false,width:"50px"},{name:"token",title:"TOKEN",type:"text",editing:false,width:"50px"},{type:"control",editButton:false,eleteButton:false,clearFilterButton:false,width:10,headerTemplate:function(){return $('<button class="btn btn-sm btn-success"><i class="fas fa-tv"></i></button>').on("click",function(){$("#frm-monitor-nuevo").trigger("reset");$("#frm-monitor-nuevo").unbind("submit");$("#frm-monitor-nuevo").submit(function(b){console.log("Set monitor nuevo");b.preventDefault();setMonitorNuevo()});$("#modal-monitor-nuevo").modal()})}}],onItemDeleted:function(b){delMonitor(b.item.id)}})}$('[data-toggle="tooltip"]').tooltip()}).fail(function(a){}).always(function(){})}function setMonitorNuevo(){var a={descripcion:$("#monitor-descripcion").val(),url:$("#monitor-url").val(),token:$("#monitor-token").val()};$.post(baseURL+"/configuracion/monitor/set-monitor-nuevo",a,null,"json").done(function(b){console.log(b);if(!b.error){getMonitores();$("#modal-monitor-nuevo").modal("hide")}$('[data-toggle="tooltip"]').tooltip()}).fail(function(b){}).always(function(){})}function delMonitor(b){var a={id:b};$.post(baseURL+"/configuracion/monitor/del-monitor",a,null,"json").done(function(c){console.log(c);if(!c.error){getMonitores();$("#modal-monitor-nuevo").modal("hide")}$('[data-toggle="tooltip"]').tooltip()}).fail(function(c){}).always(function(){})};